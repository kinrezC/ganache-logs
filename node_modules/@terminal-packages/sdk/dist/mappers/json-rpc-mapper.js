"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const utils_1 = require("../shared/utils");
class JsonRpcMapper {
    /**
     * Creates a valid json payload object
     *
     * @method toPayload
     *
     * @param {String} method
     * @param {Array} params
     *
     * @returns {Object}
     */
    static toPayload(method, params) {
        if (!method) {
            throw new Error(`JSONRPC method should be specified for params: "${JSON.stringify(params)}"!`);
        }
        const id = utils_1.Utils.deepClone(JsonRpcMapper.messageId);
        JsonRpcMapper.messageId++;
        return {
            jsonrpc: '2.0',
            id,
            method,
            params: params || [],
        };
    }
}
exports.default = JsonRpcMapper;
// due to web3 line https://github.com/ethereum/web3.js/blob/1.x/packages/web3-providers-ws/src/index.js#L228
// we can not start at 0 for messageId as websockets wont fire
JsonRpcMapper.messageId = 1;
